<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header"></div>
<div class="container">
    <div class="sidebar">
        <a href="Main.html" style="background-color: #D3B4B4; color: black; font-weight: bold;">Tallinna Transport</a>
        <a href="bussid.html">Bussid</a>
        <a href="koolibussid.html" style="margin-bottom: 50px;">Kooli Bussid</a>

        <a href="#" style="background-color: #D3B4B4; color: black; font-weight: bold;">Uuringud</a>
        <a href="teated.html">Teated</a>
        <a href="uudisedtallinn.html">Uudised Tallinn</a>
        <a href="Kontaktid.html">Kontaktid</a>
        <a href="Piletid.html">Piletid</a>
    </div>
    <div class="content">
        <div class="main">
            <div class="content">
                <div class="left-panel">
                    <h1>Avaleht</h1>
                    <div class="left-panel-container">
                        <h3 class="head3">Tõrked</h3>
                        <ul>
                            <li class="btn-container"><button onclick="open24()" class="btn-with-image">24</button> <p>alates 16.05.2024 05:00</p></li>
                            <li class="btn-container"><button onclick="open52()" class="btn-with-image">52</button> <p>alates 16.05.2024 05:00</p></li>
                            <li class="btn-container"><button onclick="open1()" class="btn-with-image">1</button> <p>alates 16.05.2024 05:00</p></li>
                            <li class="btn-container"><button onclick="open11()" class="btn-with-image">11</button> <p>alates 16.05.2024 05:00</p></li>
                            <li class="btn-container"><button onclick="open3()" class="btn-with-image">3</button> <p>alates 16.05.2024 05:00</p></li>
                            <li class="btn-container"><button onclick="open15()" class="btn-with-image">15</button> <p>alates 16.05.2024 05:00</p></li>
                            <li class="btn-container"><button onclick="open23()" class="btn-with-image">23</button> <p>alates 16.05.2024 05:00</p></li>
                            <li class="btn-container"><button onclick="open55()" class="btn-with-image">55</button> <p>alates 16.05.2024 05:00</p></li>
                            <li class="btn-container"><button onclick="open37()" class="btn-with-image">37</button> <p>alates 16.05.2024 05:00</p></li>
                            <li class="btn-container"><button onclick="open57()" class="btn-with-image">57</button> <p>alates 16.05.2024 05:00</p></li>
                        </ul>
                    </div>
                </div>
                <div class="map" id="map"></div>
            </div>
        </div>
    </div>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        // Initialize the map
        var map = L.map('map').setView([59.4370, 24.7536], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        }).addTo(map);

        var bussicon = L.icon({
            iconUrl: 'bussmarker.jpg', // URL to the marker icon image
            iconSize: [30, 35], // size of the icon
            iconAnchor: [16, 32],
            popupAnchor: [0, -32]
        });

        var Estoniapst = L.marker([59.4336, 24.7528], {
            icon: bussicon,
            description: "Estonia Peatus"
        }).addTo(map);
        var ViruKeskus = L.marker([59.43615,24.7555], {
            icon: bussicon,
            description: "Viru Keskus"
        }).addTo(map);
        var Kaubumaja = L.marker([59.43478,24.75603], {
            icon: bussicon,
            description: "Kaubumaja"
        }).addTo(map);
        var LinnuTee = L.marker([59.4145398,24.7085094], {
            icon: bussicon,
            description: "Linnu Tee"
        }).addTo(map);
        var VabaduseValjak= L.marker([59.43314475830132,24.744848012924194], {
            icon: bussicon,
            description: "Vabaduse Väljak"
        }).addTo(map);
        var Silli= L.marker([59.40768803720479,24.702919721603397], {
            icon: bussicon,
            description: "Silli"
        }).addTo(map);
        var Puhangu= L.marker([59.446105918660535,24.699411392211918], {
            icon: bussicon,
            description: "Puhangu"
        }).addTo(map);
        var Lennujaam= L.marker([59.41816450738258,24.79925394058228], {
            icon: bussicon,
            description: "Lennujaam"
        }).addTo(map);
        var Mehaanikakool= L.marker([59.43565991715831,24.806120395660404], {
            icon: bussicon,
            description: "Mehaanikakool"
        }).addTo(map);
        var Kumu= L.marker([59.43528892934135,24.798181056976322], {
            icon: bussicon,
            description: "Kumu"
        }).addTo(map);

        Estoniapst.on('click', function (e) {
            window.open('peatused/Estonia.html', '_blank');
        });
        ViruKeskus.on('click', function (e) {
            window.open('peatused/ViruKeskus.html', '_blank');
        });
        Kaubumaja.on('click', function (e) {
            window.open('peatused/Kaubumaja.html', '_blank');
        });
        LinnuTee.on('click', function (e) {
            window.open('peatused/LinnuTee.html', '_blank');
        });
        VabaduseValjak.on('click', function (e) {
            window.open('peatused/VabaduseValjal.html', '_blank');
        });
        Silli.on('click', function (e) {
            window.open('peatused/Silli.html', '_blank');
        });
        Puhangu.on('click', function (e) {
            window.open('peatused/Puhangu.html', '_blank');
        });
        Lennujaam.on('click', function (e) {
            window.open('peatused/Lennujaam.html', '_blank');
        });
        Kumu.on('click', function (e) {
            window.open('peatused/Kumu.html', '_blank');
        });
        Mehaanikakool.on('click', function (e) {
            window.open('peatused/Mehanikakool.html', '_blank');
        });

        var apiKey = "3fc84d50-7bd4-4904-9a23-a50711c205f1";
        var origin = "52.5200,13.4050"; // Example origin coordinates
        var destination = "48.8566,2.3522"; // Example destination coordinates
        var url = `https://graphhopper.com/api/1/route?point=${origin}&point=${destination}&vehicle=car&key=${apiKey}`;

        $.get(url, function (data, status) {
            if (status === "success" && data.paths && data.paths.length > 0) {
                var points = data.paths[0].points.coordinates;
                var polyline = L.polyline(points, { color: 'blue' }).addTo(map);
            }
        });
    });

    function open1() {
        window.open('bussidpages/1.html', '_blank'); // Replace 'new_page.html' with the URL of the page you want to open
    }
    function open3() {
        window.open('bussidpages/3.html', '_blank'); // Replace 'new_page.html' with the URL of the page you want to open
    }
    function open11() {
        window.open('bussidpages/11.html', '_blank'); // Replace 'new_page.html' with the URL of the page you want to open
    }
    function open15() {
        window.open('bussidpages/15.html', '_blank'); // Replace 'new_page.html' with the URL of the page you want to open
    }
    function open23() {
        window.open('bussidpages/23.html', '_blank'); // Replace 'new_page.html' with the URL of the page you want to open
    }
    function open24() {
        window.open('bussidpages/24.html', '_blank'); // Replace 'new_page.html' with the URL of the page you want to open
    }
    function open37() {
        window.open('bussidpages/37.html', '_blank'); // Replace 'new_page.html' with the URL of the page you want to open
    }
    function open52() {
        window.open('bussidpages/52.html', '_blank'); // Replace 'new_page.html' with the URL of the page you want to open
    }
    function open55() {
        window.open('bussidpages/55.html', '_blank'); // Replace 'new_page.html' with the URL of the page you want to open
    }
    function open57() {
        window.open('bussidpages/57.html', '_blank'); // Replace 'new_page.html' with the URL of the page you want to open
    }
</script>
</body>
</html>
